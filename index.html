<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ë¥˜ì œ's ì˜¤ë¼í´ ì¹´ë“œ ë¦¬ë”©</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Google Font -->
  <link
    href="https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@400;600&display=swap"
    rel="stylesheet"
  />

  <style>
    * {
      box-sizing: border-box;
    }

    html {
      /* ë„¤ë¹„ í´ë¦­í–ˆì„ ë•Œ ë¶€ë“œëŸ½ê²Œ ìŠ¤í¬ë¡¤ */
      scroll-behavior: smooth;
    }

    body {
      margin: 0;
      font-family: "Noto Serif KR", serif;
      background: linear-gradient(180deg, #faf5ff, #ffffff);
      color: #222;
	user-select: none;      /* âœ… í…ìŠ¤íŠ¸ ë“œë˜ê·¸ ê¸ˆì§€ */
    }

/* ì´ë¯¸ì§€ ë“œë˜ê·¸ ë°©ì§€ */
img {
  -webkit-user-drag: none;
  user-drag: none;
}

    .page {
      max-width: 1100px; /* ì „ì²´ ì½˜í…ì¸  í­ */
      margin: 0 auto;    /* ê°€ìš´ë° ì •ë ¬ */
      padding: 24px 24px 40px;
    }

    /* ìƒë‹¨ ë¸Œëœë“œ í—¤ë” */
    .topbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding-bottom: 16px;
    }

    .brand {
      font-size: 20px;
      font-weight: 600;
      letter-spacing: 0.03em;
    }

    .brand span {
      font-size: 12px;
      color: #a05aff;
      margin-left: 4px;
    }

.btn.active {
  background: #a00ec0;
  color: #fff;
  box-shadow: 0 4px 12px rgba(160, 12, 192, 0.45);
}

.top-divider {
  height: 1px;
  margin: 10px 0 24px;
  background: linear-gradient(90deg, transparent, #d020f0, transparent);
  opacity: 0.45;
}

    .topbar nav a {
      margin-left: 20px;
      font-size: 14px;
      color: #666;
      text-decoration: none;
    }

    .topbar nav a:hover {
      color: #a05aff;
    }

    h1 {
      margin: 16px 0 4px;
      font-size: 28px;
    }

    .subtitle {
      margin-bottom: 24px;
      color: #555;
      font-size: 14px;
    }

    .controls {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 24px;
      flex-wrap: wrap;
    }

    .btn {
      border: none;
      padding: 10px 18px;
      border-radius: 999px;
      background: #d020f0;
      color: white;
      cursor: pointer;
      font-size: 14px;
      font-weight: 600;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.12);
      transition: transform 0.1s ease, box-shadow 0.1s ease, background 0.15s;
      white-space: nowrap;
    }

    .btn.secondary {
      background: #ffffff;
      color: #d020f0;
      border: 1px solid #d020f0;
    }

    .btn.active {
      background: #a00ec0;
      color: #fff;
    }

    .btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.18);
    }

    .btn:active {
      transform: scale(0.96);
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
    }

    .status-line {
      margin-bottom: 16px;
      font-size: 14px;
      color: #555;
      min-height: 20px;
    }

    .cards-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 32px;
      margin-top: 12px;
    }

    .card {
      display: flex;
      flex-direction: column;
      align-items: stretch;
      gap: 8px;
      cursor: pointer;
      transition: transform 0.15s ease;
    }

    .card:hover {
      transform: translateY(-8px);
    }

    .card-image-wrapper {
      position: relative;
      border-radius: 18px;
      overflow: hidden;
      background: #eee;

      /* ì¹´ë“œ ë¹„ìœ¨ í†µì¼ */
      aspect-ratio: 3 / 4;
      width: 100%;

      /* ì¹´ë“œ ê·¸ë¦¼ì */
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.18);
      transition: transform 0.15s ease, box-shadow 0.15s ease;
    }

    .card:hover .card-image-wrapper {
      box-shadow: 0 16px 30px rgba(0, 0, 0, 0.24);
    }

    .card-image-wrapper img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }

    .card-overlay {
      position: absolute;
      inset: 0;
      background: rgba(0, 0, 0, 0.76);
      color: #fff;
      opacity: 0;
      transition: opacity 0.18s ease;
      padding: 16px;
      display: flex;
      justify-content: center;
      align-items: center;
      text-align: left;
      font-size: 13px;
    }

    .card:hover .card-overlay {
      opacity: 1;
    }

    .card-overlay-inner {
      max-height: 100%;
      overflow-y: auto;
      width: 100%;
      line-height: 1.6;
      padding: 8px 0;
    }

    .card-title {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 2px;
    }

    /* ğŸ‘‰ í‚¤ì›Œë“œ ì—°ë³´ë¼ìƒ‰ */
    .card-keyword {
      font-size: 14px;
      color: #888;
      font-weight: 500;
    }

    .card-position {
      font-size: 11px;
      color: #a05aff;
      margin-top: 2px;
padding: 4px 10px;
  border-radius: 999px;
  background: rgba(160, 90, 255, 0.08);
  display: inline-block;
    }

    .footer-note {
      margin-top: 24px;
      font-size: 11px;
      color: #aaa;
    }

    .footer {
      text-align: center;
      padding: 40px 0 0;
      font-size: 13px;
      color: #888;
    }

    /* ëª¨ë‹¬(ì¹´ë“œ ìƒì„¸ íŒì—…) */
    .modal {
      position: fixed;
      inset: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      pointer-events: none;
      opacity: 0;
      transition: opacity 0.18s ease;
      z-index: 1000;
    }

    .modal.show {
      pointer-events: auto;
      opacity: 1;
    }

    .modal-backdrop {
      position: absolute;
      inset: 0;
      background: rgba(0, 0, 0, 0.55);
    }

    .modal-panel {
      position: relative;
      background: #fff;
      border-radius: 20px;
      padding: 20px 22px 24px;
      max-width: 560px;
      width: 90%;
      max-height: 90vh;
      overflow: hidden;
      box-shadow: 0 18px 40px rgba(0, 0, 0, 0.35);
      z-index: 1;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .modal-image-wrapper {
      border-radius: 14px;
      overflow: hidden;
      aspect-ratio: 3/4;
      background: #eee;
    }

    .modal-image-wrapper img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }

    .modal-title {
      font-size: 20px;
      font-weight: 600;
    }

    .modal-keyword {
      font-size: 14px;
      color: #888;
    }

    .modal-position {
      font-size: 12px;
      color: #a05aff;
    }

    .modal-body {
      font-size: 14px;
      color: #333;
      line-height: 1.8;
      margin-top: 4px;
      overflow-y: auto;
    }

    .modal-close {
      position: absolute;
      right: 14px;
      top: 10px;
      border: none;
      background: transparent;
      font-size: 22px;
      cursor: pointer;
      color: #777;
    }

    .modal-close:hover {
      color: #333;
    }

    @media (max-width: 600px) {
      .page {
        padding: 16px 16px 28px;
      }

      h1 {
        font-size: 22px;
      }

      .topbar nav a {
        margin-left: 12px;
        font-size: 13px;
      }

      .modal-panel {
        padding: 16px 16px 20px;
      }
    }

.info-section {
  margin-top: 40px;
  padding: 24px 28px;
  border-radius: 22px;
  background: rgba(255, 255, 255, 0.9);
  box-shadow: 0 8px 22px rgba(0, 0, 0, 0.06);
  text-align: center;
  transition: transform 0.18s ease, box-shadow 0.18s ease, background 0.18s ease;
}

.info-section:hover {
  transform: translateY(-4px);
  box-shadow: 0 14px 32px rgba(160, 90, 255, 0.28);
  background: rgba(255, 255, 255, 0.98);
}

.info-title {
  font-weight: 600;
  font-size: 16px;
  margin-bottom: 8px;
  color: #a05aff;
}

.info-body {
  font-size: 13px;
  line-height: 1.8;
  color: #555;
}

  </style>
</head>
<body>
  <div class="page">
    <!-- ìƒë‹¨ í—¤ë” -->
    <header class="topbar">
      <div class="brand">RyuJae Oracle <span>by ì‘ê°€</span></div>
      <nav>
        <!-- ê°™ì€ í˜ì´ì§€ ì„¹ì…˜ìœ¼ë¡œ ìŠ¤í¬ë¡¤ -->
        <a href="#reading-section">ì¹´ë“œ ë¦¬ë”©</a>
        <a href="#about-deck">ì¹´ë“œ ì†Œê°œ</a>
        <!-- ğŸ”— ì™¸ë¶€ í˜ì´ì§€: ì•„ë˜ URLì„ ë„¤ê°€ ì›í•˜ëŠ” ì£¼ì†Œë¡œ ë°”ê¿” ì“°ë©´ ë¨ -->
        <a href="https://example.com" target="_blank" rel="noopener noreferrer">About</a>
      </nav>
    </header>

<header class="topbar">
  ...
</header>

<div class="top-divider"></div>

    <main id="reading-section">
      <h1>ë¥˜ì œ's ì˜¤ë¼í´ ì¹´ë“œ ë¦¬ë”©</h1>
      <p class="subtitle">
        ìŠ¤í”„ë ˆë“œë¥¼ ì„ íƒí•˜ê³  ì¹´ë“œë¥¼ ë½‘ìœ¼ì„¸ìš”. ì¹´ë“œ ìœ„ì— ë§ˆìš°ìŠ¤ë¥¼ ì˜¬ë¦¬ê±°ë‚˜ ì¹´ë“œë¥¼ í´ë¦­í•˜ë©´ ìƒì„¸ ë¦¬ë”©ì´ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.
      </p>

      <div class="controls">
        <button class="btn secondary active" id="one-card-btn">1ì¥ ë¦¬ë”©</button>
        <button class="btn secondary" id="three-card-btn">3ì¥ ìŠ¤í”„ë ˆë“œ</button>
        <button class="btn" id="draw-btn">ì¹´ë“œ ë½‘ê¸°</button>
      </div>

      <div class="status-line" id="status-line"></div>

      <div class="cards-container" id="cards-container"></div>

      <p class="footer-note">
        * ì´ í˜ì´ì§€ëŠ” ë¡œì»¬ íŒŒì¼ë¡œë„, ì›¹ì— ì˜¬ë ¤ì„œë„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¹´ë“œ ë°ì´í„°ì™€ ì´ë¯¸ì§€ëŠ”
        <code>cards</code> ë°°ì—´ê³¼ <code>images</code> í´ë”ì—ì„œ ììœ ë¡­ê²Œ ìˆ˜ì •í•˜ì„¸ìš”.
      </p>
    </main>

    <!-- ì¹´ë“œ/ë± ì†Œê°œ ì„¹ì…˜ -->
    <section id="about-deck" class="info-section">
  <div class="info-title">ì¹´ë“œ ì†Œê°œ</div>
  <div class="info-body">
    ì´ ì˜¤ë¼í´ ì¹´ë“œëŠ” ë¥˜ì œê°€ êµ¬ì¶•í•œ ì„¸ê³„ê´€ê³¼ ìƒì§• ì²´ê³„ë¥¼ ë°”íƒ•ìœ¼ë¡œ í•œ ê°œì¸ ì°½ì‘ ë±ì…ë‹ˆë‹¤.<br>
    ê° ì¹´ë“œëŠ” í•˜ë‚˜ì˜ ì¥ë©´ê³¼ ê°ì •ì„ ì‘ì¶•í•´ ë†“ì€ ì‘ì€ ì´ì•¼ê¸°ì´ë©°, ë¦¬ë”©ì„ í†µí•´
    ì§€ê¸ˆì˜ ë‹¹ì‹ ì—ê²Œ í•„ìš”í•œ ë¬¸ì¥ê³¼ ì´ë¯¸ì§€ë¥¼ ë¶ˆëŸ¬ì˜µë‹ˆë‹¤.<br>
    ìƒì—…ì  ì´ë¯¸ì§€ ë¬´ë‹¨ ì‚¬ìš© ë° 2ì°¨ ë°°í¬ëŠ” ê¸ˆì§€ë˜ì–´ ìˆìœ¼ë©°, ì›¹ì•±ì„ í†µí•œ ë¦¬ë”© ì‚¬ìš©ë§Œ í—ˆìš©ë©ë‹ˆë‹¤.
  </div>
</section>

<section id="about-author" class="info-section">
  <div class="info-title">About ì‘ê°€</div>
  <div class="info-body">
    ì›¹ì†Œì„¤ê³¼ ì˜¤ë¼í´ ë¦¬ë”©ì„ í•¨ê»˜ ì§“ëŠ” ì‚¬ëŒ. ì´ì•¼ê¸°ë¥¼ ì¹´ë“œì˜ ì´ë¯¸ì§€ì™€ ì–¸ì–´ë¡œ í’€ì–´ë‚´ëŠ” ì‘ì—…ì„ ì¢‹ì•„í•©ë‹ˆë‹¤.<br>
    ì´ ì›¹ì•±ì€ ì‘ê°€ê°€ ì§ì ‘ ê¸°íš Â· í…ìŠ¤íŠ¸ ì‘ì„± Â· ì¹´ë“œ ë¦¬ë”© ì„¤ê³„ë¥¼ ëª¨ë‘ ì§„í–‰í•œ 1ì¸ í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.
  </div>
</section>

   
    <footer class="footer">
      Â© 2025 RyuJae Oracle. All rights reserved. Designed & Built by ì‘ê°€.
    </footer>
  </div>

  <!-- ì¹´ë“œ ìƒì„¸ ëª¨ë‹¬ -->
  <div class="modal" id="card-modal">
    <div class="modal-backdrop" id="modal-backdrop"></div>
    <div class="modal-panel">
      <button class="modal-close" id="modal-close">&times;</button>
      <div class="modal-image-wrapper">
        <img id="modal-image" src="" alt="" />
      </div>
      <div class="modal-title" id="modal-title"></div>
      <div class="modal-keyword" id="modal-keyword"></div>
      <div class="modal-position" id="modal-position"></div>
      <div class="modal-body" id="modal-body"></div>
    </div>
  </div>

  <script>
    // -----------------------------
    // ì¹´ë“œ ë°ì´í„°
    // -----------------------------
    const cards = [
      {
        id: "guardian_angel",
        name: "Guardian Angel",
        keyword: "Guidance in times to come.",
        image: "images/guardian_angel.png",
        longMeaning:
          "ì•ìœ¼ë¡œ ë‚˜ì•„ê°ˆ ê¸¸ ìœ„ì—ì„œ ë³´ì´ì§€ ì•ŠëŠ” ë³´í˜¸ê°€ í•¨ê»˜ í•¨ì„ ì•Œë ¤ì£¼ëŠ” ì¹´ë“œì…ë‹ˆë‹¤. ì¡°ê¸‰í•¨ë³´ë‹¤ëŠ” ì‹ ë¢°ë¥¼, ë¶ˆì•ˆë³´ë‹¤ëŠ” í˜¸í¡ì„ ì„ íƒí•˜ì„¸ìš”. ì§€ê¸ˆ ì´ ê¸¸ ìœ„ì—ì„œ ë‹¹ì‹ ì€ í˜¼ìê°€ ì•„ë‹™ë‹ˆë‹¤.",
        positionLabels: {
          past: "ê³¼ê±°ì˜ ë³´í˜¸ì™€ ê²½í—˜",
          present: "í˜„ì¬ ê³ì„ ì§€í‚¤ëŠ” ì•ˆë‚´ì",
          future: "ë‹¤ê°€ì˜¬ ê¸¸ì— ëŒ€í•œ ì¸ë„"
        }
      },
      {
        id: "crown_chakra",
        name: "Crown Chakra",
        keyword: "Future spiritual growth and enlightenment.",
        image: "images/crown_chakra.png",
        longMeaning:
          "ì˜ì‹ì´ í•œ ë‹¨ê³„ í™•ì¥ë˜ëŠ” ì‹œê¸°ë¥¼ ë§ì´í•˜ê³  ìˆìŠµë‹ˆë‹¤. ë– ì˜¤ë¥´ëŠ” ì˜ê°ê³¼ ì§ê´€ì„ ê°€ë³ê²Œ ë„˜ê¸°ì§€ ë§ˆì„¸ìš”. ê°™ì€ ìƒí™©ë„ ì´ì „ê³¼ ì „í˜€ ë‹¤ë¥¸ ì‹œì„ ìœ¼ë¡œ ë³´ì´ê¸° ì‹œì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
        positionLabels: {
          past: "ì ì¬ëœ ì˜ì  ê°ìˆ˜ì„±",
          present: "ì§€ê¸ˆ ê¹¨ì–´ë‚˜ëŠ” í†µì°°",
          future: "í•œì¸µ ë„“ì–´ì§„ ì‹œì•¼ì™€ ìˆ˜ìš©ì„±"
        }
      },
      {
        id: "root_chakra",
        name: "Root Chakra",
        keyword: "Maintaining security in the future.",
        image: "images/root_chakra.png",
        longMeaning:
          "ìƒí™œì˜ ê¸°ë°˜, ëª¸ì˜ ì•ˆì •, ëˆê³¼ ì§‘ê³¼ ê°™ì€ í˜„ì‹¤ì ì¸ í† ëŒ€ê°€ ì¤‘ì‹¬ ì´ìŠˆë¡œ ë– ì˜¤ë¦…ë‹ˆë‹¤. ì‘ì€ ë£¨í‹´ë¶€í„° ì •ë¦¬í•´ ë³´ì„¸ìš”. ë‹¨ë‹¨í•œ ë•…ì„ ë§Œë“  ë’¤ì—ì•¼ ììœ ë¡œìš´ ë¹„ìƒì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.",
        positionLabels: {
          past: "ê³¼ê±°ì˜ ë¶ˆì•ˆê³¼ í”ë“¤ë¦¼",
          present: "ì§€ê¸ˆ ë°”ë¡œ ì¡ì•„ì•¼ í•  ê¸°ì´ˆ",
          future: "ë” ì´ìƒ í”ë“¤ë¦¬ì§€ ì•ŠëŠ” ê¸°ë°˜"
        }
      },
      {
        id: "magician",
        name: "The Magician",
        keyword: "Realizing potential in upcoming endeavors.",
        image: "images/magician.png",
        longMeaning:
          "ë‹¹ì‹ ì´ ê°€ì§„ ì¬ëŠ¥ê³¼ ìì›ì´ ì‹¤ì œ í˜„ì‹¤ì— ì‘ë™í•˜ê¸° ì‹œì‘í•˜ëŠ” ì‹œì ì…ë‹ˆë‹¤. ë¨¸ë¦¿ì†ì—ì„œë§Œ ë§´ëŒë˜ ì•„ì´ë””ì–´ë¥¼ ì†ìœ¼ë¡œ ëŒì–´ë‚´ë ¤ ë³´ì„¸ìš”. ë„êµ¬ëŠ” ì´ë¯¸ ë‹¹ì‹  ê³ì— ì¶©ë¶„íˆ ìˆìŠµë‹ˆë‹¤.",
        positionLabels: {
          past: "ì ì¬ëœ ì¬ëŠ¥ê³¼ ì¤€ë¹„",
          present: "ì§€ê¸ˆ í–‰ë™ìœ¼ë¡œ ì˜®ê¸¸ ë•Œ",
          future: "í˜„ì‹¤ë¡œ êµ¬í˜„ëœ ë¹„ì „"
        }
      },
      {
        id: "butterfly_spirit",
        name: "Butterfly Spirit",
        keyword: "Imminent major transformation.",
        image: "images/butterfly_spirit.png",
        longMeaning:
          "ë³€í™”ëŠ” ì´ë¯¸ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤. ì˜ˆì „ì˜ ë‚˜ë¡œëŠ” ë“¤ì–´ê°ˆ ìˆ˜ ì—†ëŠ” ë¬¸ì´ ì—´ë¦¬ê³  ìˆìŠµë‹ˆë‹¤. ë‚¡ì€ ê»ì§ˆì„ ë²—ê²¨ë‚´ëŠ” ê³¼ì •ì´ ì¡°ê¸ˆ ì•„í”„ë”ë¼ë„, ê·¸ ë„ˆë¨¸ì—ëŠ” í›¨ì”¬ ê°€ë²¼ìš´ ë‚ ê°¯ì§“ì´ ê¸°ë‹¤ë¦¬ê³  ìˆìŠµë‹ˆë‹¤.",
        positionLabels: {
          past: "ì˜¤ëœ ì¤€ë¹„ì™€ ëˆ„ì ëœ ì••ë°•",
          present: "ì§€ê¸ˆ ì¼ì–´ë‚˜ëŠ” íƒˆí”¼ì˜ ìˆœê°„",
          future: "ìƒˆë¡œìš´ í˜•íƒœì˜ ë‹¹ì‹ "
        }
      }
    ];

    // -----------------------------
    // ìƒíƒœ & DOM
    // -----------------------------
    let currentSpread = 1; // 1 ë˜ëŠ” 3

    const oneCardBtn   = document.getElementById("one-card-btn");
    const threeCardBtn = document.getElementById("three-card-btn");
    const drawBtn      = document.getElementById("draw-btn");
    const cardsContainer = document.getElementById("cards-container");
    const statusLine     = document.getElementById("status-line");

    // ëª¨ë‹¬ ìš”ì†Œ
    const modal          = document.getElementById("card-modal");
    const modalBackdrop  = document.getElementById("modal-backdrop");
    const modalClose     = document.getElementById("modal-close");
    const modalTitle     = document.getElementById("modal-title");
    const modalKeyword   = document.getElementById("modal-keyword");
    const modalPosition  = document.getElementById("modal-position");
    const modalBody      = document.getElementById("modal-body");
    const modalImage     = document.getElementById("modal-image");

    const defaultPositions = ["ê³¼ê±°", "í˜„ì¬", "ë¯¸ë˜"];

    // -----------------------------
    // ìœ í‹¸: ì…”í”Œ & ë½‘ê¸°
    // -----------------------------
    function shuffleArray(array) {
      const arr = array.slice();
      for (let i = arr.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [arr[i], arr[j]] = [arr[j], arr[i]];
      }
      return arr;
    }

    function drawRandomCards(count) {
      const shuffled = shuffleArray(cards);
      return shuffled.slice(0, count);
    }

    // -----------------------------
    // ëª¨ë‹¬ ì—´ê¸° / ë‹«ê¸°
    // -----------------------------
    function openModal(card, positionText) {
      modalTitle.textContent = card.name;
      modalKeyword.textContent = card.keyword;
      modalPosition.textContent = positionText || "";
      modalBody.textContent = card.longMeaning;
      modalImage.src = card.image;
      modalImage.alt = card.name;
      modal.classList.add("show");
    }

    function closeModal() {
      modal.classList.remove("show");
    }

    modalClose.addEventListener("click", closeModal);
    modalBackdrop.addEventListener("click", closeModal);
    document.addEventListener("keydown", (e) => {
      if (e.key === "Escape") {
        closeModal();
      }
    });

    // -----------------------------
    // ë Œë”ë§
    // -----------------------------
    function renderCards(selectedCards) {
      cardsContainer.innerHTML = "";

      selectedCards.forEach((card, index) => {
        const cardEl = document.createElement("div");
        cardEl.className = "card";

        const imageWrapper = document.createElement("div");
        imageWrapper.className = "card-image-wrapper";

        const img = document.createElement("img");
        img.src = card.image;
        img.alt = card.name;

        const overlay = document.createElement("div");
        overlay.className = "card-overlay";

        const overlayInner = document.createElement("div");
        overlayInner.className = "card-overlay-inner";
        overlayInner.textContent = card.longMeaning;

        overlay.appendChild(overlayInner);
        imageWrapper.appendChild(img);
        imageWrapper.appendChild(overlay);

        const title = document.createElement("div");
        title.className = "card-title";
        title.textContent = card.name;

        const keyword = document.createElement("div");
        keyword.className = "card-keyword";
        keyword.textContent = card.keyword;

        const position = document.createElement("div");
        position.className = "card-position";

        let positionLabelText = "";

        if (currentSpread === 3) {
          const key =
            index === 0 ? "past" : index === 1 ? "present" : "future";
          const labelFromCard = card.positionLabels?.[key];
          const defaultLabel = defaultPositions[index];
          positionLabelText = labelFromCard
            ? `${defaultLabel} Â· ${labelFromCard}`
            : defaultLabel;
          position.textContent = positionLabelText;
        }

        cardEl.appendChild(imageWrapper);
        cardEl.appendChild(title);
        cardEl.appendChild(keyword);
        if (positionLabelText) {
          cardEl.appendChild(position);
        }

        // ì¹´ë“œ í´ë¦­ ì‹œ ëª¨ë‹¬ ì—´ê¸°
        cardEl.addEventListener("click", () => {
          openModal(card, positionLabelText);
        });

        cardsContainer.appendChild(cardEl);
      });
    }

    // -----------------------------
    // ë²„íŠ¼ ë™ì‘
    // -----------------------------
    oneCardBtn.addEventListener("click", () => {
      currentSpread = 1;
      oneCardBtn.classList.add("active");
      threeCardBtn.classList.remove("active");
      statusLine.textContent =
        "1ì¥ ë¦¬ë”©ì„ ì„ íƒí–ˆìŠµë‹ˆë‹¤. ì¹´ë“œ ë½‘ê¸°ë¥¼ ëˆŒëŸ¬ ì£¼ì„¸ìš”.";
    });

    threeCardBtn.addEventListener("click", () => {
      currentSpread = 3;
      threeCardBtn.classList.add("active");
      oneCardBtn.classList.remove("active");
      statusLine.textContent =
        "3ì¥ ìŠ¤í”„ë ˆë“œë¥¼ ì„ íƒí–ˆìŠµë‹ˆë‹¤. ì¹´ë“œ ë½‘ê¸°ë¥¼ ëˆŒëŸ¬ ì£¼ì„¸ìš”.";
    });

    drawBtn.addEventListener("click", () => {
      const count = currentSpread === 3 ? 3 : 1;

      if (cards.length < count) {
        alert(`ì¹´ë“œ ë°ì´í„°ê°€ ${count}ì¥ë³´ë‹¤ ì ìŠµë‹ˆë‹¤. cards ë°°ì—´ì„ ë” ì±„ì›Œ ì£¼ì„¸ìš”.`);
        return;
      }

      const selected = drawRandomCards(count);
      renderCards(selected);

      if (currentSpread === 1) {
        statusLine.textContent =
          "1ì¥ ë¦¬ë”© ê²°ê³¼ì…ë‹ˆë‹¤. ì¹´ë“œ ìœ„ì— ë§ˆìš°ìŠ¤ë¥¼ ì˜¬ë¦¬ê±°ë‚˜ í´ë¦­í•´ ìƒì„¸ ë¦¬ë”©ì„ í™•ì¸í•˜ì„¸ìš”.";
      } else {
        statusLine.textContent =
          "3ì¥ ìŠ¤í”„ë ˆë“œ ê²°ê³¼ì…ë‹ˆë‹¤. ê° ì¹´ë“œ ìœ„ì— ë§ˆìš°ìŠ¤ë¥¼ ì˜¬ë¦¬ê±°ë‚˜ í´ë¦­í•´ ìƒì„¸ ë¦¬ë”©ì„ í™•ì¸í•˜ì„¸ìš”.";
      }
    });

    // ì´ˆê¸° ì•ˆë‚´
    statusLine.textContent =
      "ê¸°ë³¸ìœ¼ë¡œ 1ì¥ ë¦¬ë”©ì´ ì„ íƒë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì¹´ë“œ ë½‘ê¸°ë¥¼ ëˆŒëŸ¬ ì‹œì‘í•´ ë³´ì„¸ìš”.";

// -----------------------------
    // ê¸°ë³¸ ë§ˆìš°ìŠ¤ ë™ì‘ ì œí•œ (ìš°í´ë¦­, ë“œë˜ê·¸, í…ìŠ¤íŠ¸ ì„ íƒ)
    // -----------------------------
    document.addEventListener("contextmenu", function (e) {
      e.preventDefault();          // ìš°í´ë¦­ ë©”ë‰´ ë§‰ê¸°
    });

    document.addEventListener("dragstart", function (e) {
      e.preventDefault();          // ë“œë˜ê·¸ ì‹œì‘ ë§‰ê¸°
    });

    document.addEventListener("selectstart", function (e) {
      e.preventDefault();          // í…ìŠ¤íŠ¸ ë¸”ë¡ ì¡ê¸° ë§‰ê¸°
    });
  </script>
</body>
</html>
